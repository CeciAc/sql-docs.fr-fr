---
title: Utilisation de fonctionnalités de SQL Server | Microsoft Docs
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.openlocfilehash: 866b32abbc7f7e754b11fd286dd0c35eeeb92165
ms.sourcegitcommit: 1ab115a906117966c07d89cc2becb1bf690e8c78
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/27/2018
ms.locfileid: "52400693"
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Utilisation de fonctionnalités de SQL Server
[!INCLUDE[appliesto-ss-asdb-xxxx-xxx-md](../includes/appliesto-ss-asdb-xxxx-xxx-md.md)]
WideWorldImporters utiliser de fonctionnalités de SQL Server dans la base de données OLTP.

WideWorldImporters est conçue pour présenter la plupart des principales fonctionnalités de SQL Server, notamment les dernières fonctionnalités introduites dans SQL Server 2016. Voici une liste des fonctionnalités de SQL Server et fonctionnalités et une description de la façon dont ils sont utilisés dans WideWorldImporters.

|Fonctionnalité de SQL Server|Utilisation de WideWorldImporters|
|-----------------------------|---------------------|
|Tables temporelles|Il existe de nombreuses tables temporelles, y compris toutes les tables de référence de style de recherche et les principales entités telles que StockItems, les clients et fournisseurs. À l’aide de tables temporelles permet de facilement suivre l’historique de ces entités.|
|Appels AJAX pour JSON|L’application utilise fréquemment des appels AJAX pour interroger ces tables : Personnes, les clients, les fournisseurs et les StockItems. Les appels retournent des charges utiles JSON (par exemple, les données qui sont retournées sont formatées en tant que données JSON). Consultez, par exemple, la procédure stockée `Website.SearchForCustomers`.|
|Sacs de propriété/valeur JSON|Un nombre de tables ont des colonnes qui contiennent des données JSON à étendre les données relationnelles dans le tableau. Par exemple, `Application.SystemParameters` possède une colonne pour les paramètres d’application et `Application.People` possède une colonne pour les préférences de l’enregistrement utilisateur. Ces tables utilisent un `nvarchar(max)` colonne pour enregistrer les données JSON, ainsi que d’une contrainte de validation à l’aide de la fonction intégrée `ISJSON` pour vous assurer de la colonne de valeurs sont des JSON valides.|
|Sécurité au niveau des lignes (RLS)|Sécurité au niveau (lignes) est utilisé pour limiter l’accès à la table Customers, selon l’appartenance au rôle. Chaque secteur de vente a un rôle et un utilisateur. Pour voir comment cela fonctionne, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [mise en production de l’exemple](https://go.microsoft.com/fwlink/?LinkID=800630).|
|analytique opérationnelle en temps réel|(Version complète de la base de données) Les tables transactionnelles core `Sales.InvoiceLines` et `Sales.OrderLines` les deux ont un index columnstore non cluster pour prendre en charge une exécution efficace des requêtes analytiques dans la base de données transactionnelle avec un impact minimal sur la charge de travail opérationnelle. Exécution des transactions et analytique dans la même base de données est également appelé [traitement transactionnel/analytique hybride (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP)). Pour voir comment cela fonctionne, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [mise en production de l’exemple](https://go.microsoft.com/fwlink/?LinkID=800630).|
|PolyBase|Pour afficher cette PolyBase en action, à l’aide d’une table externe avec un jeu de données public hébergé dans le stockage BLOB Azure, utilisez le script correspondant dans l’exemple script.zip, ce qui fait partie de la [mise en production de l’exemple](https://go.microsoft.com/fwlink/?LinkID=800630).|
|OLTP en mémoire|(Version complète de la base de données) Les types de tables sont tous optimisé en mémoire, telles que les paramètres table (TVP) tous les tirer parti de l’optimisation de la mémoire.<br/><br/>Les deux tables de la surveillance, `Warehouse.VehicleTemperatures` et `Warehouse.ColdRoomTemperatures`, sont optimisées en mémoire. Cela permet à la table ColdRoomTemperatures à remplir à la vitesse supérieure qu’une table basée sur disque traditionnelle. La table VehicleTemperatures conserve la charge utile JSON et prête à l’extension vers des scénarios IoT. La table VehicleTemperatures davantage prête pour les scénarios impliquant des Event hubs, Stream Analytique et Power BI.<br/><br/>La procédure stockée `Website.RecordColdRoomTemperatures` est compilé en mode natif afin d’optimiser les performances de l’enregistrement des températures ambiantes à froid.<br/><br/>Pour voir un exemple d’OLTP en mémoire en action, consultez le pilote de charge de travail des emplacements de véhicule dans drivers.zip de la charge de travail, ce qui fait partie de la [mise en production de l’exemple](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Index columnstore cluster|(Version complète de la base de données) La table `Warehouse.StockItemTransactions` utilise un index cluster columnstore. Le nombre de lignes dans cette table est censé de devenir volumineux, et l’index cluster columnstore considérablement réduit la taille sur disque de la table et améliore les performances de requête. La modification sur cette table sont insert uniquement : il n’existe aucune mise à jour/suppression sur cette table dans la charge de travail en ligne - et index columnstore cluster effectue également pour les charges de travail insert.|
|Masquage dynamique des données|Dans le schéma de base de données, le masquage des données a été appliqué aux détails de la banque conservées pour les fournisseurs, dans la table `Purchasing.Suppliers`. Le personnel non administrateurs n’auront pas accès à ces informations.|
|Always Encrypted|Une démonstration d’Always Encrypted est incluse dans le samples.zip téléchargeable, qui fait partie de la [mise en production de l’exemple](https://go.microsoft.com/fwlink/?LinkID=800630)... La démonstration crée une clé de chiffrement, une table à l’aide du chiffrement des données sensibles, un petit exemple d’application qui insère des données dans la table.|
|Stretch Database|Le `Warehouse.ColdRoomTemperatures` table a été implémentée comme une table temporelle et est optimisée en mémoire dans la version complète de la base de données. La table d’archive est basée sur disque et peut être étirée pour Azure.|
|Index de texte intégral|Index de recherche en texte intégral améliorent les recherches de personnes, les clients et StockItems. Les index sont appliquées aux requêtes uniquement si vous avez l’indexation de texte intégral est installé sur votre instance de SQL Server. Une colonne calculée non persistante est utilisée pour créer les données qui sont en texte intégral indexées dans la table StockItems.<br/><br/>`CONCAT` est utilisé pour concaténer les champs pour créer SearchData est indexée en texte intégral.<br/>Pour activer l’utilisation des index de recherche en texte intégral dans l’exemple exécutez l’instruction suivante dans la base de données :<br/><br/>    `EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>La procédure crée un catalogue de texte intégral par défaut si une n’existe pas déjà, puis remplace les vues de recherche avec les versions de recherche en texte intégral de ces vues).<br/><br/>Notez que l’utilisation d’index de recherche en texte intégral dans SQL Server en sélectionnant l’option de recherche en texte intégral lors de l’installation. Base de données SQL Azure ne nécessite pas et une configuration spécifique pour activer les index de recherche en texte intégral.|
|Indexer les colonnes calculées persistantes|Indexer les colonnes calculées persistantes utilisées dans SupplierTransactions et CustomerTransactions.|
|Contraintes de validation|Une contrainte de validation relativement complexe est en `Sales.SpecialDeals`. Cela garantit que l’une et une seule de DiscountAmount, DiscountPercentage, et UnitPrice est configuré.|
|Contraintes uniques|Plusieurs à plusieurs construction (et les contraintes uniques) sont configurées pour 'Warehouse.StockItemStockGroups.|
|Le partitionnement de table|(Version complète de la base de données) Les tables `Sales.CustomerTransactions` et `Purchasing.SupplierTransactions` sont partitionnés par année à l’aide de la fonction de partition `PF_TransactionDate` et le schéma de partition `PS_TransactionDate`. Partitionnement est utilisé pour améliorer la facilité de gestion des tables volumineuses.|
|Traitement de la liste|Type de table d’exemple `Website.OrderIDList` est fourni. Il est utilisé par un exemple de procédure `Website.InvoiceCustomerOrders`. La procédure utilise des Expressions de Table communes (CTE) TRY/CATCH, JSON_MODIFY, XACT_ABORT, NOCOUNT, THROW et XACT_STATE pour démontre la capacité à traiter une liste de commandes plutôt que simplement une commande unique, afin de réduire les allers-retours de l’application vers le moteur de base de données.|
|Compression GZip|Le `Warehouse.VehicleTemperature`table de s contient des données de capteur complète mais lorsque ces données sont âgés de plus de quelques mois, il est compressé pour économiser l’espace à l’aide de la fonction COMPRESS, qui utilise la compression GZip.<br/><br/>La vue `Website.VehicleTemperatures` utilise la fonction DECOMPRESS lors de la récupération des données qui a été précédemment compressées.|
|Magasin de requêtes|Store de la requête est activée sur la base de données. Après avoir exécuté quelques requêtes, ouvrez la base de données dans Management Studio, ouvrez le nœud de requête Store, qui se trouve sous la base de données, et ouvrir le rapport requêtes de consommatrices de ressources de haut pour voir les exécutions de requête et les plans pour les requêtes que vous venez d’exécuter.|
|STRING_SPLIT|La colonne `DeliveryInstructions` dans la table `Sales.Invoices`a une valeur délimitée par des virgules qui peut être utilisée pour illustrer STRING_SPLIT.|
|Audit|SQL Server Audit peut être activée pour cette base de données exemple en exécutant l’instruction suivante dans la base de données :<br/><br/>    `EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>Dans la base de données SQL Azure, l’audit est activé via le [Azure portal](https://portal.azure.com/).<br/><br/>Opérations de sécurité impliquant des connexions, rôles et les autorisations sont journalisées sur tous les systèmes où l’audit est activé (y compris les systèmes de l’édition standard). Audit est dirigé vers le journal des applications, car il est disponible sur tous les systèmes et ne nécessite pas d’autorisations supplémentaires. Un avertissement s’étant donné que pour une sécurité accrue, il doit être redirigé dans le journal de sécurité ou à un fichier dans un dossier sécurisé. Un lien est fourni pour décrire la configuration supplémentaire requise.<br/><br/>Pour les systèmes d’évaluation/développeur/enterprise edition, l’accès à toutes les données transactionnelles financiers est audité.|
