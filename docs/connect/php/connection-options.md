---
title: Options de connexion | Microsoft Docs
ms.custom: ''
ms.date: 02/11/2019
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: 6d1ea295-8e34-438e-8468-4bbc0f76192c
author: MightyPen
ms.author: genemi
manager: jroth
ms.openlocfilehash: 49d3f8c181dbcdde0ec1a2575c3524fc6046803a
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MTE75
ms.contentlocale: fr-FR
ms.lasthandoff: 06/15/2019
ms.locfileid: "66796256"
---
# <a name="connection-options"></a>Options de connexion
[!INCLUDE[Driver_PHP_Download](../../includes/driver_php_download.md)]

Cette rubrique répertorie les options autorisées dans le tableau associatif (durant l’utilisation de [sqlsrv_connect](../../connect/php/sqlsrv-connect.md) dans le pilote SQLSRV), ou les mots clés autorisés dans le nom de source de données (dsn) (durant l’utilisation de [PDO::__construct](../../connect/php/pdo-construct.md) dans le pilote PDO_SQLSRV).  

## <a name="table-of-connection-options"></a>Tableau des options de connexion

|Key|Valeur|Description|Valeur par défaut|  
|-------|---------|---------------|-----------|  
|AccessToken|String|La chaîne d’octets du jeton d’accès Azure AD extrait à partir d’une réponse OAuth JSON.<br /><br />La chaîne de connexion ne doit pas contenir un ID d’utilisateur, mot de passe ou le mot clé d’authentification. Pour plus d’informations, consultez [Connect Using Azure Active Directory Authentication](../../connect/php/azure-active-directory.md)|Non défini.|
|APP|String|Spécifie le nom de l’application utilisé dans le suivi.|Non défini.|  
|ApplicationIntent|String|Déclare le type de la charge de travail de l'application lors de la connexion à un serveur. Les valeurs possibles sont ReadOnly et ReadWrite.<br /><br />Pour plus d’informations sur [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] prise en charge de [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], consultez [prennent en charge pour la haute disponibilité, récupération d’urgence](../../connect/php/php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|ReadWrite|  
|AttachDBFileName|String|Spécifie le fichier de base de données que le serveur doit attacher.|Non défini.|  
|Authentification|Une des chaînes suivantes :<br /><br />'SqlPassword'<br /><br />'ActiveDirectoryPassword'<br /><br />'ActiveDirectoryMsi'|Spécifie le mode d’authentification.<br /><br />Pour plus d’informations, consultez [Connect Using Azure Active Directory Authentication](../../connect/php/azure-active-directory.md)|Non défini.|
|CharacterSet<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|String|Spécifie le jeu de caractères utilisé pour envoyer des données au serveur.<br /><br />Les valeurs possibles sont SQLSRV_ENC_CHAR et UTF-8. Pour plus d’informations, consultez [How to: Send and Retrieve UTF-8 Data Using Built-In UTF-8 Support](../../connect/php/how-to-send-and-retrieve-utf-8-data-using-built-in-utf-8-support.md).|SQLSRV_ENC_CHAR|  
|ColumnEncryption|**Activé** ou **Désactivé**|Spécifie si la fonctionnalité Always Encrypted est activée ou non. |Désactivé|  
|ConnectionPooling|1 ou **true** pour activer le regroupement de connexions.<br /><br />0 ou **false** pour désactiver le regroupement de connexions.|Spécifie si la connexion est attribuée à partir d’un pool de connexions (1 ou **true**) ou non (0 ou **false**).<sup>1</sup>|**true** (1)|  
|ConnectRetryCount|Entier compris entre 0 et 255 (inclus)|Le nombre maximal de tentatives de rétablissement d’une connexion interrompue avant d’abandonner. Par défaut, une seule tentative pour rétablir la connexion lorsque le rompu. Une valeur de 0 signifie qu’aucune reconnexion ne sera tentée.|1|  
|ConnectRetryInterval|Entier compris entre 1 et 60 (inclus)|Durée, en secondes, entre les tentatives de rétablir une connexion. L’application tente de se reconnecter immédiatement lors de la détection d’une connexion interrompue et puis attendra ConnectRetryInterval secondes avant de réessayer. Ce mot clé est ignoré si ConnectRetryCount est égal à 0.|1|  
|Base de données|String|Spécifie le nom de la base de données utilisé pour la connexion établie<sup>2</sup>.|Base de données par défaut pour la connexion utilisée.|  
|DecimalPlaces<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|Entier compris entre 0 et 4 (inclus)|Spécifie le nombre de décimales pour le formatage des valeurs monétaires extraites.<br /><br />Cette option fonctionne seulement si FormatDecimals est true. Les entiers négatifs et les valeurs supérieures à 4 sont ignorés.|Mise à l’échelle et la précision par défaut|
|Pilote|String|Spécifie le pilote ODBC Microsoft utilisé pour communiquer avec SQL Server.<br /><br />Les valeurs possibles sont :<br />ODBC Driver 17 for SQL Server<br />ODBC Driver 13 for SQL Server<br />ODBC Driver 11 for SQL Server (Windows uniquement).|Lorsque le mot clé Driver n’est pas spécifié, le Microsoft Drivers for PHP for SQL Server tentent de trouver les pilotes Microsoft ODBC pris en charge dans le système, en commençant par la dernière version d’ODBC et ainsi de suite.| 
|Encrypt|1 ou **true** pour activer le chiffrement.<br /><br />0 or **false** pour désactiver le chiffrement.|Spécifie si la communication avec SQL Server est chiffrée (1 ou **true**) ou non (0 ou **false**)<sup>3</sup>.|**false** (0)|  
|FormatDecimals<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|1 ou **true** au format extrait les chaînes décimales.<br /><br />0 ou **false** pour décimal par défaut les comportements de mise en forme.|Spécifie s’il faut ajouter des zéros au début des chaînes décimales si nécessaire et active l’option `DecimalPlaces` pour mettre en forme les types monétaires. Si vous conservez la valeur false, le comportement par défaut qui consiste à retourner la précision exacte et à omettre les zéros non significatifs pour les valeurs inférieures à 1 est utilisé.<br /><br />Pour plus d’informations, voir [Mettre en forme des chaînes décimales et des valeurs monétaires](../../connect/php/formatting-decimals-sqlsrv-driver.md).|**false** (0)|
|Failover_Partner|String|Spécifie le serveur et l’instance de mise en miroir de la base de données (si elle est activée et configurée) à utiliser quand le serveur principal n’est pas disponible.<br /><br />Il existe des restrictions liées à l’utilisation de Failover_Partner avec MultiSubnetFailover. Pour plus d’informations, consultez [prise en charge pour la haute disponibilité, récupération d’urgence](../../connect/php/php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|Non défini.|  
|KeyStoreAuthentication|**KeyVaultPassword**<br /><br />**KeyVaultClientSecret**|Méthode d’authentification pour accéder à Azure Key Vault. Contrôle quelles sont les informations d’identification sont utilisées avec KeyStorePrincipalId et KeyStoreSecret. Pour plus d’informations, consultez [à l’aide d’Azure Key Vault](../../connect/php/using-always-encrypted-php-drivers.md###using-azure-key-vault).|Non défini.|
|KeyStorePrincipalId|String|Identificateur pour le compte qui cherchent à accéder à Azure Key Vault. <br /><br />Si KeyStoreAuthentication est **KeyVaultPassword**, cela doit être un nom d’utilisateur Azure Active Directory. <br /><br />Si KeyStoreAuthentication est **KeyVaultClientSecret**, cela doit être un ID de client d’application.|Non défini.|
|KeyStoreSecret|String|Secret des informations d’identification pour le compte qui cherchent à accéder à Azure Key Vault. <br /><br />Si KeyStoreAuthentication est **KeyVaultPassword**, cela doit être un mot de passe Azure Active Directory. <br /><br />Si KeyStoreAuthentication est **KeyVaultClientSecret**, cela doit être une clé secrète client d’application.|Non défini.|
|LoginTimeout|Entier (pilote SQLSRV)<br /><br />Chaîne (pilote PDO_SQLSRV)|Spécifie le nombre de secondes qui doivent s’écouler avant l’échec de la tentative de connexion.|Aucun délai d’expiration.|  
|MultipleActiveResultSets|1 ou **true** pour utiliser les jeux de résultats actifs multiples.<br /><br />0 ou **false** pour désactiver les jeux de résultats actifs multiples.|Désactive ou active explicitement la prise en charge de MARS (Multiple Active Result Sets).<br /><br />Pour plus d’informations, consultez [Procédure : Désactiver MARS &#40;Multiple Active Result Sets&#41;](../../connect/php/how-to-disable-multiple-active-resultsets-mars.md).|true (1)|  
|MultiSubnetFailover|String|Spécifiez toujours **multiSubnetFailover=yes** lors de la connexion à l’écouteur de groupe de disponibilité d’un groupe de disponibilité [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou d’une instance de cluster de basculement [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]. **multiSubnetFailover=yes** configure le [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] pour accélérer la détection et la connexion au serveur (actuellement) actif. Les valeurs possibles sont yes et no.<br /><br />Pour plus d’informations sur [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] prise en charge de [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], consultez [prennent en charge pour la haute disponibilité, récupération d’urgence](../../connect/php/php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|Non|  
|PWD<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|String|Spécifie le mot de passe associé à l’ID utilisateur à utiliser lors de la connexion avec l’authentification SQL Server<sup>4</sup>.|Non défini.|  
|QuotedId|1 ou **true** pour utiliser les règles SQL-92.<br /><br />0 ou **false** pour utiliser les règles héritées.|Spécifie s’il faut utiliser les règles SQL-92 pour les identificateurs entre guillemets (1 ou **true**) ou utiliser les règles Transact-SQL héritées (0 ou **false**).|**true** (1)|  
|ReturnDatesAsStrings<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|1 ou **true** pour retourner les types de date et d’heure sous forme de chaînes.<br /><br />0 ou **false** pour retourner les types de date et d’heure comme types PHP **DateTime** .|Récupère les types de date et d’heure (datetime, smalldatetime, date, time, datetime2 et datetimeoffset) sous forme de chaînes ou en tant que types PHP. Pour plus d’informations, consultez [Procédure : récupérer des types de date et heure sous forme de chaînes à l’aide du pilote SQLSRV](../../connect/php/how-to-retrieve-date-and-time-type-as-strings-using-the-sqlsrv-driver.md). <br /><br />Lorsque vous utilisez le pilote PDO_SQLSRV, les dates sont retournées sous forme de chaînes, sauf indication contraire. Pour plus d’informations, consultez [Guide pratique pour récupérer des types date et heure sous forme d’objets DateHeure PHP à l’aide du pilote PDO_SQLSRV](../../connect/php/how-to-retrieve-datetime-objects-using-pdo-sqlsrv-driver.md).|**false**|
|Défilement|String|“buffered” indique que vous souhaitez un curseur côté client (mis en mémoire tampon), ce qui vous permet de mettre en cache un jeu de résultats entier en mémoire. Pour plus d’informations, consultez [Types de curseur &#40;pilote SQLSRV&#41;](../../connect/php/cursor-types-sqlsrv-driver.md).|Curseur avant uniquement|  
|Serveur<br /><br />(non pris en charge dans le pilote SQLSRV)|String|Instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à laquelle se connecter.<br /><br />Vous pouvez également spécifier un nom de réseau virtuel pour vous connecter à un groupe de disponibilité AlwaysOn. Pour plus d’informations sur [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] prise en charge de [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], consultez [prennent en charge pour la haute disponibilité, récupération d’urgence](../../connect/php/php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|Server est un mot clé obligatoire (mais il ne doit pas obligatoirement être le premier mot clé dans la chaîne de connexion). Si aucun nom de serveur n’est passé au mot clé, une tentative de connexion à l’instance locale est effectuée.<br /><br />La valeur transmise à Server peut être le nom d’une instance [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ou l’adresse IP de l’instance. Si vous le souhaitez, vous pouvez spécifier un numéro de port (par exemple, `sqlsrv:server=(local),1033`).<br /><br />À compter de la version 3.0 du [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] , vous pouvez aussi spécifier une instance de base de données locale avec `server=(localdb)\instancename`. Pour plus d’informations, consultez [prise en charge de la base de données locale](../../connect/php/php-driver-for-sql-server-support-for-localdb.md).|  
|TraceFile|String|Spécifie le chemin du fichier utilisé pour les données de trace.|Non défini.|  
|TraceOn|1 ou **true** pour activer le traçage.<br /><br />0 ou **false** pour désactiver le traçage.|Spécifie si le traçage ODBC est activé (1 ou **true**) ou désactivé (0 or **false**) pour la connexion établie.|**false** (0)|  
|TransactionIsolation|Le pilote SQLSRV utilise les valeurs suivantes :<br /><br />SQLSRV_TXN_READ_UNCOMMITTED<br /><br />SQLSRV_TXN_READ_COMMITTED<br /><br />SQLSRV_TXN_REPEATABLE_READ<br /><br />SQLSRV_TXN_SNAPSHOT<br /><br />SQLSRV_TXN_SERIALIZABLE<br /><br />Le pilote PDO_SQLSRV utilise les valeurs suivantes :<br /><br />PDO::SQLSRV_TXN_READ_UNCOMMITTED<br /><br />PDO::SQLSRV_TXN_READ_COMMITTED<br /><br />PDO::SQLSRV_TXN_REPEATABLE_READ<br /><br />PDO::SQLSRV_TXN_SNAPSHOT<br /><br />PDO::SQLSRV_TXN_SERIALIZABLE|Spécifie le niveau d’isolation de la transaction.<br /><br />Pour plus d’informations sur l’isolation des transactions, consultez [SET TRANSACTION ISOLATION LEVEL](../../t-sql/statements/set-transaction-isolation-level-transact-sql.md) dans la documentation SQL Server.|SQLSRV_TXN_READ_COMMITTED<br /><br />ou Gestionnaire de configuration<br /><br />PDO::SQLSRV_TXN_READ_COMMITTED|  
|TransparentNetworkIPResolution|**Activé** ou **Désactivé**|Affecte la séquence de connexion lors de la première résolu l’adresse IP du nom d’hôte ne répond pas et il y a plusieurs adresses IP associé avec le nom d’hôte.<br /><br />Il interagit avec MultiSubnetFailover pour fournir des séquences de connexion différents. Pour plus d’informations, consultez [résolution d’adresses IP réseau transparente](../../connect/php/php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md) ou [résolution d’adresses IP de réseau Transparent à l’aide de](https://docs.microsoft.com/sql/connect/odbc/using-transparent-network-ip-resolution).|Activé|
|TrustServerCertificate|1 ou **true** pour approuver le certificat.<br /><br />0 ou **false** pour ne pas approuver le certificat.|Spécifie si le client doit approuver (1 ou **true**) ou rejeter (0 ou **false**) un certificat de serveur auto-signé.|**false** (0)|  
|UID<br /><br />(non pris en charge dans le pilote PDO_SQLSRV)|String|Spécifie l’ID utilisateur à utiliser lors de la connexion avec l’authentification SQL Server<sup>4</sup>.|Non défini.|  
|WSID|String|Spécifie le nom de l’ordinateur pour le traçage.|Non défini.|  

1. Le `ConnectionPooling` attribut ne peut pas être utilisé pour activer/désactiver le regroupement de connexions dans Linux et Mac. Consultez [Regroupement de connexions (Microsoft Drivers for PHP for SQL Server)](../../connect/php/connection-pooling-microsoft-drivers-for-php-for-sql-server.md).

2. Toutes les requêtes exécutées via la connexion établie sont envoyées à la base de données spécifiée par l’attribut *Database*. Toutefois, si l’utilisateur dispose des autorisations appropriées, il peut accéder aux données des autres bases de données à l’aide d’un nom qualifié complet. Par exemple, si la base de données *master* est définie avec l’attribut de connexion *Database*, il est toujours possible d’exécuter une requête Transact-SQL qui accède à la table *AdventureWorks.HumanResources.Employee* en utilisant le nom qualifié complet.  

3. L’activation de *Encryption* peut avoir un impact sur les performances de certaines applications, en raison de la charge de traitement nécessaire pour chiffrer les données.  

4. Instance de *UID* et *PWD* doivent tous deux être définis lors de la connexion avec l’authentification [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  

Une grande partie des clés prises en charge sont des attributs de chaîne de connexion ODBC. Pour plus d’informations sur les chaînes de connexion ODBC, consultez [Utilisation de mots clés de chaîne de connexion avec SQL Server Native Client](../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).

## <a name="see-also"></a>Voir aussi  
[Connexion au serveur](../../connect/php/connecting-to-the-server.md)  
